{"version":3,"sources":["webpack:///./src/components/common/Menu/Info.vue?fd13","webpack:///./src/components/common/Menu/Info.vue?51a7","webpack:///src/components/common/Menu/Info.vue","webpack:///./src/components/common/Menu/Info.vue?1d67","webpack:///./src/components/common/Menu/Info.vue","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","attrs","Info","avatar","ref","upAvatar","Authorization","token","fileList","slot","ruleForm","model","value","callback","$$v","$set","expression","gender","on","btnClick","_s","curTeam","id","staticRenderFns","name","props","data","localStorage","getItem","birthday","methods","updateInfo","url","res","code","status","console","log","form","append","param","file","baseURL","headers","instance","put","then","params","username","method","created","teams","Teams","idIndex","$store","dispatch","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-45bf1ef6.d420b5f8.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Info.vue?vue&type=style&index=0&id=03989af2&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"project\"},[_c('el-card',{staticClass:\"card-box\"},[_c('div',{staticStyle:{\"margin-left\":\"10px\"}},[_c('div',{staticStyle:{\"margin\":\"10px\"}},[_c('span',{staticStyle:{\"font-size\":\"x-large\"}},[_vm._v(\"个人设置\")]),_c('el-button',{staticStyle:{\"color\":\"#DF3C2F\",\"font-size\":\"small\",\"position\":\"absolute\",\"right\":\"30px\"},attrs:{\"type\":\"text\"}},[_vm._v(\"退出团队\")])],1),_c('div',{staticStyle:{\"position\":\"relative\",\"margin-top\":\"30px\"}},[_c('el-avatar',{attrs:{\"src\":_vm.Info.avatar,\"size\":60}}),_c('div',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"20px\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"action\":\"/api/user/avatar\",\"http-request\":_vm.upAvatar,\"headers\":{Authorization: _vm.token},\"file-list\":_vm.fileList,\"show-file-list\":false,\"accept\":\".jpg,.jpeg,.png\"}},[_c('el-button',{staticStyle:{\"color\":\"#44acb6\",\"position\":\"absolute\",\"top\":\"0\"},attrs:{\"slot\":\"trigger\",\"type\":\"text\"},slot:\"trigger\"},[_vm._v(\"选择新头像\")]),_c('div',{staticStyle:{\"font-size\":\"x-small\",\"color\":\"#777\",\"position\":\"absolute\",\"bottom\":\"10px\"},attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"你可以选择 png/jpg 图片作为头像 \")])],1)],1)],1),_c('div',{staticStyle:{\"margin-top\":\"30px\",\"width\":\"45%\"}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"label-width\":\"100px\",\"hide-required-asterisk\":true}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"gender\"}},[_c('el-radio-group',{model:{value:(_vm.gender),callback:function ($$v) {_vm.gender=$$v},expression:\"gender\"}},[_c('el-radio-button',{attrs:{\"label\":\"男\"}}),_c('el-radio-button',{attrs:{\"label\":\"女\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"生日\",\"prop\":\"birthday\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.ruleForm.birthday),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"birthday\", $$v)},expression:\"ruleForm.birthday\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.btnClick}},[_vm._v(\"保存\")])],1)],1)],1)])]),_c('div',{staticClass:\"foot\"},[_c('span',[_vm._v(\"团队ID:\")]),_vm._v(_vm._s(_vm.curTeam.id))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"project\">\r\n    <el-card class=\"card-box\">\r\n      <div style=\"margin-left: 10px\">\r\n        <div style=\"margin: 10px\">\r\n          <span style=\"font-size: x-large\">个人设置</span>\r\n          <el-button type=\"text\" style=\"color: #DF3C2F;font-size: small;position: absolute;right: 30px\">退出团队</el-button>\r\n        </div>\r\n        <div style=\"position: relative;margin-top: 30px\">\r\n          <el-avatar :src=\"Info.avatar\" :size=\"60\"></el-avatar>\r\n          <div style=\"display: inline-block;margin-left: 20px\">\r\n            <el-upload\r\n                ref=\"upload\"\r\n                class=\"upload-demo\"\r\n                action=\"/api/user/avatar\"\r\n                :http-request=\"upAvatar\"\r\n                :headers=\"{Authorization: token}\"\r\n                :file-list=\"fileList\"\r\n                :show-file-list=\"false\"\r\n                accept=\".jpg,.jpeg,.png\">\r\n              <el-button slot=\"trigger\" type=\"text\" style=\"color: #44acb6;position: absolute;top: 0\">选择新头像</el-button>\r\n              <div slot=\"tip\" style=\"font-size: x-small;color: #777;position: absolute;bottom: 10px\">你可以选择 png/jpg\r\n                图片作为头像\r\n              </div>\r\n            </el-upload>\r\n            <!--            <span style=\"font-size: x-small;color: #777;display: block;position: absolute;bottom: 10px\">你可以选择 png/jpg 图片作为头像</span>-->\r\n          </div>\r\n        </div>\r\n        <div style=\"margin-top: 30px;width: 45%\">\r\n          <el-form :model=\"ruleForm\" ref=\"ruleForm\" label-width=\"100px\" :hide-required-asterisk=true>\r\n            <el-form-item label=\"姓名\" prop=\"name\">\r\n              <el-input v-model=\"ruleForm.name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"性别\" prop=\"gender\">\r\n              <el-radio-group v-model=\"gender\">\r\n                <el-radio-button label=\"男\"></el-radio-button>\r\n                <el-radio-button label=\"女\"></el-radio-button>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n            <el-form-item label=\"生日\" prop=\"birthday\">\r\n              <el-date-picker\r\n                  v-model=\"ruleForm.birthday\"\r\n                  type=\"date\"\r\n                  placeholder=\"选择日期\"\r\n                  value-format=\"yyyy-MM-dd\">\r\n              </el-date-picker>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"btnClick\">保存</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n    <div class=\"foot\"><span>团队ID:</span>{{ curTeam.id }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {request} from \"../../../network/request\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"Info\",\r\n  props: ['Teams'],\r\n  data() {\r\n    return {\r\n      Info: {},\r\n      fileList: [],\r\n      token: localStorage.getItem('token'),\r\n      ruleForm: {\r\n        name: '',\r\n        birthday: ''\r\n      },\r\n      gender: ''\r\n    }\r\n  },\r\n  methods: {\r\n    updateInfo() {\r\n      request({\r\n        url: '/user',\r\n      }).then(res => {\r\n        // console.log('Info:');\r\n        // console.log(res);\r\n        if (res.data.code === 200 && res.status === 200) {\r\n          this.Info = res.data.data;\r\n          this.Info.avatar = 'https://voa.yinjiahui.cn/api/files/avatar/' + this.Info.avatar;\r\n          if (this.Info.gender === 1) this.gender = '男';\r\n          else this.gender = '女';\r\n          this.ruleForm.name = this.Info.username;\r\n          this.ruleForm.birthday = this.Info.birthday;\r\n          console.log(this.Info);\r\n        }\r\n      }).catch(err => {\r\n        console.log('error Info!!');\r\n      })\r\n    },\r\n    upAvatar(param) {\r\n      let form = new FormData();\r\n      form.append('file', param.file);\r\n      let instance = axios.create({\r\n        baseURL: '/api',\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          \"Authorization\": localStorage.getItem('token')\r\n        }\r\n      });\r\n      instance.put('/user/avatar', form).then(res => {\r\n        // console.log(res);\r\n        this.updateInfo();\r\n      })\r\n    },\r\n    btnClick() {\r\n      request({\r\n        url: '/user',\r\n        params: {\r\n          username: this.ruleForm.name,\r\n          gender: this.gender === '男' ? 1 : 0,\r\n          birthday: this.ruleForm.birthday\r\n        },\r\n        method: 'put'\r\n      }).then(res => {\r\n        // console.log('modInfo:');\r\n        console.log(res);\r\n        if (res.data.code === 200 && res.status === 200) {\r\n\r\n        }\r\n      }).catch(err => {\r\n        console.log('error modInfo!!');\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.teams = this.Teams;\r\n    this.idIndex = localStorage.getItem('idIndex');\r\n    this.curTeam = this.teams[this.idIndex];\r\n    this.$store.dispatch('updateProjects', this.curTeam);\r\n    this.updateInfo();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.project {\r\n  width: 1000px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n}\r\n\r\n.card-box {\r\n  margin: 0 25px;\r\n  display: block;\r\n  padding: 0 2px 20px;\r\n  min-height: 600px;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n}\r\n\r\n.foot {\r\n  margin-top: 20px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  font-size: small;\r\n  color: #999;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Info.vue?vue&type=template&id=03989af2&scoped=true&\"\nimport script from \"./Info.vue?vue&type=script&lang=js&\"\nexport * from \"./Info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Info.vue?vue&type=style&index=0&id=03989af2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03989af2\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}