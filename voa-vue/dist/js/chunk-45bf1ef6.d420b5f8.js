(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45bf1ef6"],{"47ff":function(t,e,a){"use strict";a("a14a")},"751c":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project"},[a("el-card",{staticClass:"card-box"},[a("div",{staticStyle:{"margin-left":"10px"}},[a("div",{staticStyle:{margin:"10px"}},[a("span",{staticStyle:{"font-size":"x-large"}},[t._v("个人设置")]),a("el-button",{staticStyle:{color:"#DF3C2F","font-size":"small",position:"absolute",right:"30px"},attrs:{type:"text"}},[t._v("退出团队")])],1),a("div",{staticStyle:{position:"relative","margin-top":"30px"}},[a("el-avatar",{attrs:{src:t.Info.avatar,size:60}}),a("div",{staticStyle:{display:"inline-block","margin-left":"20px"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/api/user/avatar","http-request":t.upAvatar,headers:{Authorization:t.token},"file-list":t.fileList,"show-file-list":!1,accept:".jpg,.jpeg,.png"}},[a("el-button",{staticStyle:{color:"#44acb6",position:"absolute",top:"0"},attrs:{slot:"trigger",type:"text"},slot:"trigger"},[t._v("选择新头像")]),a("div",{staticStyle:{"font-size":"x-small",color:"#777",position:"absolute",bottom:"10px"},attrs:{slot:"tip"},slot:"tip"},[t._v("你可以选择 png/jpg 图片作为头像 ")])],1)],1)],1),a("div",{staticStyle:{"margin-top":"30px",width:"45%"}},[a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,"label-width":"100px","hide-required-asterisk":!0}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-radio-group",{model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[a("el-radio-button",{attrs:{label:"男"}}),a("el-radio-button",{attrs:{label:"女"}})],1)],1),a("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.ruleForm.birthday,callback:function(e){t.$set(t.ruleForm,"birthday",e)},expression:"ruleForm.birthday"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.btnClick}},[t._v("保存")])],1)],1)],1)])]),a("div",{staticClass:"foot"},[a("span",[t._v("团队ID:")]),t._v(t._s(t.curTeam.id))])],1)},o=[],i=(a("b0c0"),a("1bab")),n=a("bc3a"),l=a.n(n),s={name:"Info",props:["Teams"],data:function(){return{Info:{},fileList:[],token:localStorage.getItem("token"),ruleForm:{name:"",birthday:""},gender:""}},methods:{updateInfo:function(){var t=this;Object(i["a"])({url:"/user"}).then((function(e){200===e.data.code&&200===e.status&&(t.Info=e.data.data,t.Info.avatar="https://voa.yinjiahui.cn/api/files/avatar/"+t.Info.avatar,1===t.Info.gender?t.gender="男":t.gender="女",t.ruleForm.name=t.Info.username,t.ruleForm.birthday=t.Info.birthday,console.log(t.Info))})).catch((function(t){console.log("error Info!!")}))},upAvatar:function(t){var e=this,a=new FormData;a.append("file",t.file);var r=l.a.create({baseURL:"/api",headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.getItem("token")}});r.put("/user/avatar",a).then((function(t){e.updateInfo()}))},btnClick:function(){Object(i["a"])({url:"/user",params:{username:this.ruleForm.name,gender:"男"===this.gender?1:0,birthday:this.ruleForm.birthday},method:"put"}).then((function(t){console.log(t),200===t.data.code&&t.status})).catch((function(t){console.log("error modInfo!!")}))}},created:function(){this.teams=this.Teams,this.idIndex=localStorage.getItem("idIndex"),this.curTeam=this.teams[this.idIndex],this.$store.dispatch("updateProjects",this.curTeam),this.updateInfo()}},c=s,u=(a("47ff"),a("2877")),d=Object(u["a"])(c,r,o,!1,null,"03989af2",null);e["default"]=d.exports},a14a:function(t,e,a){},b0c0:function(t,e,a){var r=a("83ab"),o=a("9bf2").f,i=Function.prototype,n=i.toString,l=/^\s*function ([^ (]*)/,s="name";r&&!(s in i)&&o(i,s,{configurable:!0,get:function(){try{return n.call(this).match(l)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-45bf1ef6.d420b5f8.js.map